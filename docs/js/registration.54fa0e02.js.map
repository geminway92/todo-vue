{"version":3,"sources":["webpack:///./src/modules/auth/views/Registration.vue","webpack:///./src/modules/auth/views/Registration.vue?97ef","webpack:///./src/modules/auth/views/Registration.vue?a93e"],"names":["class","type","errors","length","error","key","validateForm","placeholder","user","name","email","autocomplete","password","confirmPassword","to","data","photoProfile","ok","message","methods","push","registerUser","createUser","resp","$router","fire","__exports__","render"],"mappings":"8PACSA,MAAM,gB,uBACP,eAAqB,UAAjB,gBAAY,M,mBAIZA,MAAM,gB,uBACN,eAAuD,SAApD,oDAAgD,M,uBA+BnD,eAEM,OAFDA,MAAM,oBAAkB,CACzB,eAAwC,UAAhCC,KAAK,UAAS,e,SAG9BD,MAAM,a,iBAAY,wB,iBAAuD,kB,oFAzC7E,eA0CM,MA1CN,EA0CM,CAzCF,EACW,EAAAE,OAAOC,Q,iBAClB,eAOI,IAPJ,EAOI,CAJA,EACA,eAEK,Y,mBADD,eAAuD,2BAAnC,EAAAD,QAAM,SAAfE,G,wBAAX,eAAuD,MAA1BC,IAAKD,GAAK,eAAIA,GAAK,M,6BANxD,eAA4E,OAAlD,kDAS1B,eA6BO,QA7BA,SAAM,8CAAU,EAAAE,cAAA,EAAAA,aAAA,qBAAY,e,gBAC/B,eAG6B,SAFzBL,KAAK,OACLM,YAAY,oB,qDACE,EAAAC,KAAKC,KAAI,K,mBAAT,EAAAD,KAAKC,U,SAAnB,M,eAEJ,eAIwB,SAHxBR,KAAK,QACLM,YAAY,mB,qDACE,EAAAC,KAAKE,MAAK,IACxBC,aAAa,Y,mBADC,EAAAH,KAAKE,W,SAAnB,M,eAGA,eAKC,SAJDT,KAAK,WACLM,YAAY,wB,qDACH,EAAAC,KAAKI,SAAQ,IACtBD,aAAa,gB,mBADJ,EAAAH,KAAKI,Y,eAId,eAKC,SAJDX,KAAK,WACLM,YAAY,sB,qDACH,EAAAM,gBAAe,IACxBF,aAAa,gB,mBADJ,EAAAE,mBAIT,G,IAIR,eAA8G,KAA9G,EAA8G,C,EAApE,eAA+D,GAAjDC,GAAI,gBAAe,C,wBAAE,iBAAc,C,yFAShF,GACXL,KAAM,eACNM,KAFW,WAGP,MAAO,CACHP,KAAM,CACFC,KAAM,GACNC,MAAO,GACPE,SAAU,GACVI,aAAgB,0FAEpBC,IAAI,EACJC,QAAS,MACThB,OAAQ,GACRW,gBAAiB,KAGzBM,QAAS,iCACF,eAAY,OAAQ,CAAC,gBADrB,IAGGb,aAHD,SAGeE,GAAM,2JACtB,EAAKN,OAAS,GAEV,EAAKM,KAAKC,MACV,EAAKP,OAAOkB,KAAK,6BAGjB,EAAKZ,KAAKE,OACV,EAAKR,OAAOkB,KAAK,4BAGjB,EAAKZ,KAAKI,UAAa,EAAKC,gBAXV,yCAYZ,EAAKX,OAAOkB,KAAK,iCAZL,OAcX,EAAKZ,KAAKI,SAAST,OAAS,GACnC,EAAKD,OAAOkB,KAAK,mDAfC,OAmBnB,EAAKZ,KAAKI,WAAa,EAAKC,iBAE3B,EAAKX,OAAOkB,KAAK,6BAKI,GAAtB,EAAKlB,OAAOC,QACX,EAAKkB,aAAa,EAAKb,MA3BL,+CAiCpBa,aApCD,SAoCeb,GAAM,8KAIF,EAAKc,WAAYd,GAJf,OAIhBe,EAJgB,OAOF,iBAAjBA,EAAKL,QACJK,EAAKL,QAAU,+EAES,0BAAjBK,EAAKL,QACZK,EAAKL,QAAU,2HAEU,0BAAjBK,EAAKL,QACbK,EAAKL,QAAU,0EAES,kBAAjBK,EAAKL,UACZK,EAAKL,QAAU,0BAMXK,EAAKN,GAEL,EAAKO,QAAQJ,KAAK,CAACX,KAAM,gBAFhB,IAAKgB,KAAK,QAASF,EAAKL,QAAS,SAOlD,EAAKV,KAAO,CACRC,KAAK,GACLC,MAAO,GACPE,SAAU,GACVI,aAAc,kGAGlB,EAAKH,gBAAkB,GArCD,iD,iCChGlC,MAAMa,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,kCCTf","file":"js/registration.54fa0e02.js","sourcesContent":["<template>\r\n    <div class=\"registration\">\r\n        <h1>Bienvenido/a</h1>\r\n        <h3 v-if=\"!errors.length\">Le ayudamos a cumplir con sus tareas a tiempo</h3>\r\n        <p \r\n            v-else\r\n            class=\"title-errors\">\r\n            <b>Por favor, corrija el(los) siguientes error(es):</b>\r\n            <ul>\r\n                <li v-for=\"error in errors\" :key=\"error\">{{error}}</li>\r\n            </ul>\r\n        </p>\r\n        <form @submit.prevent=\"validateForm\">\r\n            <input \r\n                type=\"text\" \r\n                placeholder=\"Escribe su nombre\"\r\n                v-model.trim=\"user.name\">\r\n            \r\n            <input \r\n            type=\"email\" \r\n            placeholder=\"Escribe su email\" \r\n            v-model.trim=\"user.email\"\r\n            autocomplete=\"username\">\r\n\r\n            <input \r\n            type=\"password\" \r\n            placeholder=\"Escribe la contraseña\" \r\n            v-model=\"user.password\"\r\n            autocomplete=\"new-password\"\r\n            >\r\n            \r\n            <input \r\n            type=\"password\" \r\n            placeholder=\"Confirme contraseña\" \r\n            v-model=\"confirmPassword\"\r\n            autocomplete=\"new-password\"\r\n            >\r\n            \r\n            <div class=\"container-button\">\r\n                <button type=\"submit\">Registrar</button>\r\n            </div>\r\n        </form>\r\n    <h5 class=\"h5-cuenta\">¿Tienes una cuenta? <router-link :to=\"{name: 'login'}\">Inicia sección</router-link></h5> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex';\r\nimport Swal from 'sweetalert2'\r\n\r\n\r\nexport default {\r\n    name: 'registration',\r\n    data(){\r\n        return {\r\n            user: {\r\n                name: '',\r\n                email: '',\r\n                password: '' ,\r\n                photoProfile:   'https://res.cloudinary.com/ddn278n2q/image/upload/v1634475163/ybhrunmkvusxfyp2h0vl.jpg',\r\n            },\r\n            ok: false,\r\n            message: '...',\r\n            errors: [],\r\n            confirmPassword: '',\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions( 'auth', ['createUser']),\r\n\r\n        async validateForm( user ){\r\n            this.errors = []\r\n\r\n            if(!this.user.name){\r\n                this.errors.push('El nombre es obligatorio.')\r\n            }\r\n\r\n            if(!this.user.email){\r\n                this.errors.push('El correo es obligatorio')\r\n            }\r\n\r\n            if(!this.user.password || !this.confirmPassword){\r\n              return  this.errors.push('La contraseña es obligatoria')\r\n\r\n            } else if (this.user.password.length < 6){\r\n                this.errors.push('La contraseña debe tener un mínimo 6 carácteres')\r\n\r\n            }\r\n\r\n            if(this.user.password !== this.confirmPassword )  {\r\n        \r\n                this.errors.push('La contraseña no coincide')\r\n                 \r\n            }\r\n            \r\n\r\n            if(this.errors.length == 0){\r\n                this.registerUser(this.user)\r\n                \r\n            }\r\n            \r\n        },\r\n\r\n        async registerUser( user ){\r\n            // enviar los datos\r\n            \r\n            \r\n            const resp =  await this.createUser( user )\r\n        \r\n            /*Traducir a Español el mensaje */\r\n            if(resp.message === 'EMAIL_EXISTS') {\r\n                resp.message = 'La dirección de correo electrónico ya está siendo utilizada por otra cuenta.'\r\n\r\n            } else if( resp.message === 'OPERATION_NOT_ALLOWED'){\r\n                resp.message = 'Hemos bloqueado todas las solicitudes de este dispositivo debido a una actividad inusual. Vuelve a intentarlo más tarde.'\r\n\r\n            } else if ( resp.message === 'OPERATION_NOT_ALLOWED'){\r\n                resp.message = 'El inicio de sesión con contraseña está desactivado para este proyecto.'\r\n\r\n            } else if( resp.message === 'INVALID_EMAIL'){\r\n                resp.message = 'El correo no es válido'\r\n            }\r\n\r\n\r\n            /*Salta la alerta si la resp.ok es false */\r\n            \r\n                if(!resp.ok) Swal.fire('Error', resp.message, 'error')\r\n                else {\r\n                    this.$router.push({name: 'todolayaout'})\r\n\r\n                }\r\n\r\n            /*Resetea el usuario */\r\n            this.user = {\r\n                name:'',\r\n                email: '',\r\n                password: '' ,\r\n                photoProfile: 'https://res.cloudinary.com/ddn278n2q/image/upload/v1634324957/profile/iuhnxokjoz8fjhy0qlge.jpg',\r\n            }\r\n            \r\n            this.confirmPassword = ''\r\n            \r\n        },\r\n        \r\n        \r\n    },\r\n\r\n\r\n   \r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\ninput {\r\n    width: 220px;\r\n    height: 40px;\r\n    border-radius: 20px;\r\n    border: none;\r\n    font-size: .9em;\r\n    margin: .5em 0;\r\n    font-family: 'Poppins', sans-serif;\r\n    padding-left: 1.4em;\r\n}\r\n\r\na {\r\n    color: #FFD200;\r\n    font-size: 1.1em;\r\n    text-decoration: none;\r\n}\r\n\r\nli {\r\n    text-align: left;\r\n    \r\n}\r\n\r\n.title-errors{\r\n    font-size: .8em;\r\n}\r\n\r\n.registration {\r\n    width: 290px;\r\n    margin: auto;\r\n    text-align: center;\r\n}\r\n\r\n.registration h1 {\r\n    font-size: 1.3em;\r\n}\r\n\r\n.registration h3 {\r\n    font-size: .8em;\r\n    font-weight: 500;\r\n}\r\n\r\n\r\n.container-button {\r\n  text-align: center;\r\n  margin: 1.5em 0;\r\n}\r\n\r\n.container-button button {\r\n  width: 200px;\r\n  height: 40px;\r\n  background-color: #FFD200;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-weight: bold;\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n}\r\n\r\n.container-button button:active {\r\n  background-color: #FAE78C;\r\n}\r\n\r\n.h5-cuenta {\r\n    font-size: .9em;\r\n}\r\n\r\n</style>","import { render } from \"./Registration.vue?vue&type=template&id=484627e4&scoped=true\"\nimport script from \"./Registration.vue?vue&type=script&lang=js\"\nexport * from \"./Registration.vue?vue&type=script&lang=js\"\n\nimport \"./Registration.vue?vue&type=style&index=0&id=484627e4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\gemin\\\\Desktop\\\\Proyectos vue\\\\to-do-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-484627e4\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Registration.vue?vue&type=style&index=0&id=484627e4&scoped=true&lang=css\""],"sourceRoot":""}